(function(){"use strict";var e={8194:function(e,t,n){var a=n(3751),l=n(641),r=(n(4114),n(4445));n(8992),n(4520),n(2577),n(1454);const o={users:[{id:1,username:"user1",password:"1234",email:"user1@example.com",name:"사용자1",role:"USER",created_at:new Date},{id:2,username:"admin1",password:"1234",email:"admin1@example.com",name:"관리자",role:"ADMIN",created_at:new Date},{id:3,username:"user2",password:"2222",email:"user2@example.com",name:"사용자2",role:"USER",created_at:new Date},{id:4,username:"user3",password:"3333",email:"user3@example.com",name:"사용자3",role:"USER",created_at:new Date},{id:5,username:"user4",password:"4444",email:"user4@example.com",name:"사용자4",role:"USER",created_at:new Date}],notices:[{id:1,title:"시스템 점검 안내",content:"시스템 점검으로 인한 서비스 일시 중단 안내입니다.",created_at:new Date,hits:0},{id:2,title:"신규 기능 추가",content:"이번 업데이트에서 신규 기능이 추가되었습니다.",created_at:new Date,hits:0},{id:3,title:"이용 약관 변경",content:"새로운 이용 약관이 적용되었습니다.",created_at:new Date,hits:0},{id:4,title:"정기 점검 일정 공지",content:"다음 주에 정기 점검이 예정되어 있습니다.",created_at:new Date,hits:0},{id:5,title:"보안 업데이트 안내",content:"보안 업데이트가 완료되었습니다.",created_at:new Date,hits:0}],contents:[{id:1,title:"첫 번째 콘텐츠",description:"이것은 첫 번째 더미 콘텐츠입니다.",content:"첫 번째 콘텐츠의 본문입니다.",author_id:1,created_at:new Date,updated_at:null},{id:2,title:"두 번째 콘텐츠",description:"이것은 두 번째 더미 콘텐츠입니다.",content:"두 번째 콘텐츠의 본문입니다.",author_id:2,created_at:new Date,updated_at:null},{id:3,title:"세 번째 콘텐츠",description:"이것은 세 번째 더미 콘텐츠입니다.",content:"세 번째 콘텐츠의 본문입니다.",author_id:3,created_at:new Date,updated_at:null},{id:4,title:"네 번째 콘텐츠",description:"이것은 네 번째 더미 콘텐츠입니다.",content:"네 번째 콘텐츠의 본문입니다.",author_id:4,created_at:new Date,updated_at:null},{id:5,title:"다섯 번째 콘텐츠",description:"이것은 다섯 번째 더미 콘텐츠입니다.",content:"다섯 번째 콘텐츠의 본문입니다.",author_id:5,created_at:new Date,updated_at:null}],gallery:[{id:1,content_id:1,file_path:"image1.jpg",file_type:"IMAGE",uploaded_at:new Date},{id:2,content_id:2,file_path:"image2.jpg",file_type:"IMAGE",uploaded_at:new Date},{id:3,content_id:3,file_path:"image3.jpg",file_type:"IMAGE",uploaded_at:new Date},{id:4,content_id:4,file_path:"image4.jpg",file_type:"IMAGE",uploaded_at:new Date},{id:5,content_id:5,file_path:"video1.mp4",file_type:"VIDEO",uploaded_at:new Date}]};function s(e){return o[e]}function u(e,t){return o[e].find((e=>e.id==parseInt(t)))}function i(e,t){return o[e].find((e=>e.username===t))}function c(e,t){return o[e].filter((e=>e.content_id==parseInt(t)))}function d(e,t){const n=o[e].length>0?Math.max(...o[e].map((e=>e.id)))+1:1,a={id:n,...t,created_at:new Date};return o[e].push(a),a}function p(e,t,n){const a=o[e].findIndex((e=>e.id===parseInt(t)));return-1!==a?(o[e][a]={...o[e][a],...n,updated_at:new Date},o[e][a]):null}function m(e,t){const n=o[e].findIndex((e=>e.id===parseInt(t)));return-1!==n?o[e].splice(n,1)[0]:null}const v={getUsers:()=>s("users"),getUserById:e=>u("users",e),getItemByUsername:e=>i("users",e),addUser:e=>d("users",e),editUser:(e,t)=>p("users",e,t),deleteUser:e=>m("users",e),getNotices:()=>s("notices"),getNoticeById:e=>u("notices",e),addNotice:e=>d("notices",e),editNotice:(e,t)=>p("notices",e,t),deleteNotice:e=>m("notices",e),getContents:()=>s("contents"),getContentById:e=>u("contents",e),addContent:e=>d("contents",e),editContent:(e,t)=>p("contents",e,t),deleteContent:e=>m("contents",e),getGallery:()=>s("gallery"),getGalleryById:e=>u("gallery",e),getCateByContentId:e=>c("gallery",e),addGallery:e=>d("gallery",e),editGallery:(e,t)=>p("gallery",e,t),deleteGallery:e=>m("gallery",e)};var h=v,f=n(5220);const k={class:"pure-g"};function y(e,t){return(0,l.uX)(),(0,l.CE)("div",k,t[0]||(t[0]=[(0,l.Lk)("div",{class:"pure-u-1"},[(0,l.Lk)("h1",null,"CMS 애플리케이션에 오신 것을 환영합니다."),(0,l.Lk)("hr"),(0,l.Lk)("p",null,"이 애플리케이션은 Vue 3 및 Spring Boot로 구축된 간단한 콘텐츠 관리 시스템(CMS)입니다."),(0,l.Lk)("div",{style:{"background-color":"#cfc8c0",width:"85%","min-height":"200px","line-height":"200px",margin:"20px auto","text-align":"center"}},[(0,l.Lk)("h2",null,"로그인 사용자만 콘텐츠 관리 시스템(CMS) 사용이 가능합니다.")])],-1)]))}var b=n(6262);const g={},_=(0,b.A)(g,[["render",y]]);var L=_,w=n(33);const{addContent:E,editContent:C,deleteContent:I,getContents:D,getContentById:U,getCateByContentId:N}=h,W=(0,r.nY)("content",{state:()=>({contents:[],galleries:[],selectedContent:null,selectedGallery:null}),actions:{async fetchContents(){const e=await D();this.contents=e},async fetchContentById(e){const t=await U(e);return this.selectedContent=t,t},async fetchGalleryByContentId(e){try{const t=await N(e);this.selectedGallery=t||[]}catch(t){console.error("Failed to fetch gallery by content ID:",t)}},async addContent(e){await E(e),this.fetchContents()},async updateContent(e,t){await C(e,t),this.fetchContents()},async deleteContent(e){await I(e),this.fetchContents()}}}),G={key:0},X={class:"pure-menu-list"};var F={__name:"ContentList",setup(e){const t=W(),n=kt();(0,l.sV)((()=>{t.fetchContents()}));const a=(0,l.EW)((()=>t.contents)),r=(0,l.EW)((()=>n.user)),o=(0,l.EW)((()=>n.isAuthenticated)),s=(0,l.EW)((()=>"ADMIN"===r.value?.role?a.value:a.value.filter((e=>e.author?.id===r.value?.id))));return(e,t)=>{const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[t[1]||(t[1]=(0,l.Lk)("h1",{class:"pure-u-1"},"콘텐츠 목록",-1)),t[2]||(t[2]=(0,l.Lk)("hr",null,null,-1)),o.value?((0,l.uX)(),(0,l.CE)("div",G,[(0,l.Lk)("ul",X,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id,class:"pure-menu-item"},[(0,l.bF)(n,{to:`/contents/${e.id}`,class:"pure-menu-link"},{default:(0,l.k6)((()=>[(0,l.eW)((0,w.v_)(e.title),1)])),_:2},1032,["to"])])))),128))])])):(0,l.Q3)("",!0),(0,l.bF)(n,{to:"/contents/new",class:"pure-button pure-button-primary"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("콘텐츠 등록")]))),_:1})])}}};const A=F;var S=A;const V={class:"pure-g"},x={class:"pure-u-1"};var B={__name:"ContentPage",setup(e){return(e,t)=>((0,l.uX)(),(0,l.CE)("div",V,[(0,l.Lk)("div",x,[t[0]||(t[0]=(0,l.Lk)("h1",{class:"title"},null,-1)),(0,l.bF)(S)])]))}};const P=B;var R=P,M=n(953);const{addNotice:q,editNotice:$,deleteNotice:O,getNotices:J,getNoticeById:K}=h,Q=(0,r.nY)("notice",{state:()=>({notices:[],selectedNotice:{title:"",content:"",hits:0,createdAt:"",updatedAt:""}}),actions:{async fetchNotices(){const e=await J();this.notices=e},async fetchNoticeById(e){const t=await K(e);if(!t)throw new Error(`Notice with id ${e} not found`);return this.selectedNotice=t,t},async addNotice(e){await q(e),this.fetchNotices()},async updateNotice(e,t){await $(e,t),this.fetchNotices()},async deleteNotice(e){await O(e),this.fetchNotices()}}}),T={class:"table-wrapper"},j={class:"pure-table pure-table-bordered pure-table-striped",style:{margin:"14px auto"}},Y={class:"pagination"},z=["disabled"],H=["disabled"],Z={key:0},ee=5;var te={__name:"NoticeList",setup(e){const t=Q(),n=kt(),a=(0,M.KR)(1),r=(0,l.EW)((()=>Math.ceil(t.notices.length/ee)));(0,l.sV)((async()=>{try{const e=localStorage.getItem("username");e?await n.fetchUserProfile(e):console.error("Username not found in localStorage.")}catch(e){console.error("Error loading data:",e)}await t.fetchNotices()}));const o=e=>{e<1||e>r.value||(a.value=e)},s=(0,l.EW)((()=>{const e=(a.value-1)*ee,n=e+ee;return t.notices.slice(e,n)})),u=(0,l.EW)((()=>n.user)),i=(0,l.EW)((()=>n.isAuthenticated));return(e,t)=>{const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[t[4]||(t[4]=(0,l.Lk)("h2",{class:"pure-u-1 title"},"공지사항 목록",-1)),t[5]||(t[5]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",T,[(0,l.Lk)("table",j,[t[2]||(t[2]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"제목"),(0,l.Lk)("th",null,"작성일시"),(0,l.Lk)("th",null,"조회수")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"pure-menu-item"},[(0,l.Lk)("td",null,[(0,l.bF)(n,{to:`/notices/${e.id}`,class:"pure-menu-link"},{default:(0,l.k6)((()=>[(0,l.eW)((0,w.v_)(e.title),1)])),_:2},1032,["to"])]),(0,l.Lk)("td",null,(0,w.v_)(e.created_at),1),(0,l.Lk)("td",null,(0,w.v_)(e.hits),1)])))),128))])])]),(0,l.Lk)("div",Y,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>o(a.value-1)),disabled:1===a.value,class:"pure-button pure-button-primary"},"Previous",8,z),(0,l.Lk)("span",null,"Page "+(0,w.v_)(a.value)+" of "+(0,w.v_)(r.value),1),(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>o(a.value+1)),disabled:a.value===r.value,class:"pure-button pure-button-primary"},"Next",8,H)]),t[6]||(t[6]=(0,l.Lk)("hr",null,null,-1)),i.value?((0,l.uX)(),(0,l.CE)("div",Z,["ADMIN"===u.value.role?((0,l.uX)(),(0,l.Wv)(n,{key:0,to:"/notices/new",class:"pure-button pure-button-primary",style:{float:"right"}},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("새 글 작성")]))),_:1})):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])}}};const ne=(0,b.A)(te,[["__scopeId","data-v-54b262d5"]]);var ae=ne;const le={class:"pure-g"},re={class:"pure-u-1"};var oe={__name:"NoticePage",setup(e){return(e,t)=>((0,l.uX)(),(0,l.CE)("div",le,[(0,l.Lk)("div",re,[t[0]||(t[0]=(0,l.Lk)("h1",{class:"title"},null,-1)),(0,l.bF)(ae)])]))}};const se=oe;var ue=se;const ie={class:"fr-content",style:{}};var ce={__name:"LoginPage",setup(e){const t=(0,M.KR)({username:"",password:""}),n=kt(),r=(0,f.rd)(),o=async()=>{try{await n.login(t.value.username,t.value.password),r.push("/")}catch(e){console.error(e)}};return(e,n)=>{const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",ie,[n[6]||(n[6]=(0,l.Lk)("h3",{class:"title"},"로그인",-1)),n[7]||(n[7]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(o,["prevent"]),class:"pure-form pure-form-stacked"},[(0,l.Lk)("fieldset",null,[n[3]||(n[3]=(0,l.Lk)("label",{for:"username"},"UserID",-1)),(0,l.bo)((0,l.Lk)("input",{id:"username","onUpdate:modelValue":n[0]||(n[0]=e=>t.value.username=e),placeholder:"Enter UserID",required:""},null,512),[[a.Jo,t.value.username]]),n[4]||(n[4]=(0,l.Lk)("label",{for:"password"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{id:"password","onUpdate:modelValue":n[1]||(n[1]=e=>t.value.password=e),type:"password",placeholder:"Enter password",required:""},null,512),[[a.Jo,t.value.password]]),n[5]||(n[5]=(0,l.Lk)("button",{type:"submit",class:"pure-button pure-button-primary"},"로그인",-1)),(0,l.bF)(r,{to:"/register"},{default:(0,l.k6)((()=>n[2]||(n[2]=[(0,l.Lk)("button",{type:"button",class:"pure-button pure-button-secondary"},"회원가입",-1)]))),_:1})])],32)])}}};const de=(0,b.A)(ce,[["__scopeId","data-v-70642b4d"]]);var pe=de;const me={class:"fr-content"};var ve={__name:"UserRegister",setup(e){const t=(0,M.KR)({username:"",email:"",password:""}),n=kt(),r=(0,f.rd)(),o=async()=>{try{await n.register(t.value),r.push("/login")}catch(e){console.error(e)}};return(e,n)=>{const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",me,[n[9]||(n[9]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(o,["prevent"]),class:"pure-form pure-form-stacked"},[(0,l.Lk)("fieldset",null,[n[4]||(n[4]=(0,l.Lk)("label",{for:"username"},"UserID",-1)),(0,l.bo)((0,l.Lk)("input",{id:"username","onUpdate:modelValue":n[0]||(n[0]=e=>t.value.username=e),placeholder:"Enter UserID",required:""},null,512),[[a.Jo,t.value.username]]),n[5]||(n[5]=(0,l.Lk)("label",{for:"email"},"Email",-1)),(0,l.bo)((0,l.Lk)("input",{id:"email","onUpdate:modelValue":n[1]||(n[1]=e=>t.value.email=e),type:"email",placeholder:"Enter email",required:""},null,512),[[a.Jo,t.value.email]]),n[6]||(n[6]=(0,l.Lk)("label",{for:"password"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{id:"password","onUpdate:modelValue":n[2]||(n[2]=e=>t.value.password=e),type:"password",placeholder:"Enter password",required:""},null,512),[[a.Jo,t.value.password]]),n[7]||(n[7]=(0,l.Lk)("button",{type:"submit",class:"pure-button pure-button-primary"},"회원가입",-1)),n[8]||(n[8]=(0,l.eW)("   ")),(0,l.bF)(r,{to:"/login"},{default:(0,l.k6)((()=>n[3]||(n[3]=[(0,l.Lk)("button",{type:"button",class:"pure-button pure-button-secondary"},"로그인",-1)]))),_:1})])],32)])}}};const he=ve;var fe=he;const ke={class:"pure-g"},ye={class:"pure-u-1"};var be={__name:"RegisterPage",setup(e){return(e,t)=>((0,l.uX)(),(0,l.CE)("div",ke,[(0,l.Lk)("div",ye,[t[0]||(t[0]=(0,l.Lk)("h1",{class:"title"},"회원가입",-1)),(0,l.bF)(fe)])]))}};const ge=be;var _e=ge;const Le={class:"pure-g"},we={class:"pure-u-1"};var Ee={__name:"UserProfile",setup(e){const t=kt();(0,l.sV)((async()=>{try{const e=localStorage.getItem("username");e?await t.fetchUserProfile(e):console.error("Username not found in localStorage.")}catch(e){console.error("Failed to fetch user profile:",e)}}));const n=(0,l.EW)((()=>t.user));return(e,t)=>{const a=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Le,[(0,l.Lk)("div",we,[t[5]||(t[5]=(0,l.Lk)("h2",null,"회원 프로필",-1)),t[6]||(t[6]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("p",null,[t[0]||(t[0]=(0,l.Lk)("strong",null,"아이디:",-1)),(0,l.eW)(" "+(0,w.v_)(n.value.username),1)]),(0,l.Lk)("p",null,[t[1]||(t[1]=(0,l.Lk)("strong",null,"이메일:",-1)),(0,l.eW)(" "+(0,w.v_)(n.value.email),1)]),(0,l.Lk)("p",null,[t[2]||(t[2]=(0,l.Lk)("strong",null,"권한:",-1)),(0,l.eW)(" "+(0,w.v_)(n.value.role),1)]),(0,l.Lk)("p",null,[t[3]||(t[3]=(0,l.Lk)("strong",null,"가입일:",-1)),(0,l.eW)(" "+(0,w.v_)(n.value.created_at),1)]),(0,l.bF)(a,{to:"/users/edit",class:"pure-button pure-button-primary"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("프로필 수정")]))),_:1})])])}}};const Ce=Ee;var Ie=Ce;const De={class:"pure-g"},Ue={key:0,class:"pure-u-1"},Ne={key:1,class:"pure-u-1"},We={key:0};var Ge={__name:"NoticeDetail",setup(e){const t=(0,f.lq)(),n=(0,f.rd)(),a=Q(),r=kt(),o=(0,M.KR)(!0),s=(0,M.KR)({});(0,l.sV)((async()=>{try{const e=localStorage.getItem("username");e?await r.fetchUserProfile(e):console.error("Username not found in localStorage."),await a.fetchNoticeById(t.params.id),s.value=a.selectedNotice}catch(e){console.error(e),n.push("/notices")}finally{o.value=!1}}));const u=async()=>{try{await a.deleteNotice(t.params.id),n.push("/notices")}catch(e){console.error("삭제 중 오류:",e)}},i=(0,l.EW)((()=>r.user)),c=(0,l.EW)((()=>r.isAuthenticated));return(e,t)=>{const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",De,[o.value?((0,l.uX)(),(0,l.CE)("div",Ue,t[0]||(t[0]=[(0,l.Lk)("p",null,"공지사항을 불러오는 중입니다...",-1)]))):((0,l.uX)(),(0,l.CE)("div",Ne,[(0,l.Lk)("h1",null,(0,w.v_)(s.value.title),1),(0,l.Lk)("p",null,[t[1]||(t[1]=(0,l.Lk)("strong",null,"내용:",-1)),(0,l.eW)(" "+(0,w.v_)(s.value.content),1)]),(0,l.Lk)("p",null,[t[2]||(t[2]=(0,l.Lk)("strong",null,"조회수:",-1)),(0,l.eW)(" "+(0,w.v_)(s.value.hits),1)]),(0,l.Lk)("p",null,[t[3]||(t[3]=(0,l.Lk)("strong",null,"최초 작성:",-1)),(0,l.eW)(" "+(0,w.v_)(s.value.created_at),1)]),(0,l.Lk)("p",null,[t[4]||(t[4]=(0,l.Lk)("strong",null,"최종 수정:",-1)),(0,l.eW)(" "+(0,w.v_)(s.value.updated_at),1)]),(0,l.bF)(n,{to:"/notices",class:"pure-button"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("목록으로")]))),_:1}),c.value?((0,l.uX)(),(0,l.CE)("span",We,["ADMIN"===i.value.role?((0,l.uX)(),(0,l.Wv)(n,{key:0,to:`/notices/edit/${s.value.id}`,class:"pure-button pure-button-primary"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("수정")]))),_:1},8,["to"])):(0,l.Q3)("",!0),"ADMIN"===i.value.role?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:u,class:"pure-button pure-button-error"},"삭제")):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)]))])}}};const Xe=Ge;var Fe=Xe;const Ae={class:"fr-content"};var Se={__name:"NoticeForm",setup(e){const t=(0,f.lq)(),n=(0,f.rd)(),r=Q(),o=(0,M.KR)({title:"",content:""});if(t.params.id){const e=r.selectedNotice;(0,l.wB)((()=>e),(()=>{o.value={...e}}))}const s=async()=>{t.params.id?await r.updateNotice(t.params.id,o.value):await r.addNotice(o.value),n.push("/notices")};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Ae,[t[5]||(t[5]=(0,l.Lk)("h2",{class:"title"},"공지사항 글 등록",-1)),t[6]||(t[6]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(s,["prevent"]),class:"pure-form pure-form-stacked"},[(0,l.Lk)("fieldset",null,[t[2]||(t[2]=(0,l.Lk)("label",{for:"title"},"Title",-1)),(0,l.bo)((0,l.Lk)("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>o.value.title=e),placeholder:"Enter title",required:""},null,512),[[a.Jo,o.value.title]]),t[3]||(t[3]=(0,l.Lk)("label",{for:"content"},"Content",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>o.value.content=e),placeholder:"Enter content",required:""},null,512),[[a.Jo,o.value.content]]),t[4]||(t[4]=(0,l.Lk)("button",{type:"submit",class:"pure-button pure-button-primary"},"Submit",-1))])],32)]))}};const Ve=Se;var xe=Ve;const Be={class:"pure-g"},Pe={class:"pure-u-1"};var Re={__name:"NoticeEdit",setup(e){const t=(0,f.lq)(),n=(0,f.rd)(),r=Q(),o=(0,M.KR)({title:"",content:""});(0,l.sV)((async()=>{try{await r.fetchNoticeById(t.params.id);const e=r.selectedNotice;if(!e)throw new Error("Notice not found");o.value.title=e.title,o.value.content=e.content}catch(e){console.error("Error fetching notice:",e),n.push("/notices")}}));const s=async()=>{try{await r.updateNotice(t.params.id,o.value),n.push(`/notices/${t.params.id}`)}catch(e){console.error("Error updating notice:",e)}};return(e,t)=>{const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Be,[(0,l.Lk)("div",Pe,[t[6]||(t[6]=(0,l.Lk)("h1",null,"공지사항 수정",-1)),t[7]||(t[7]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(s,["prevent"]),class:"pure-form pure-form-stacked"},[(0,l.Lk)("fieldset",null,[t[3]||(t[3]=(0,l.Lk)("label",{for:"title"},"제목",-1)),(0,l.bo)((0,l.Lk)("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>o.value.title=e),type:"text",placeholder:"공지사항 제목",required:""},null,512),[[a.Jo,o.value.title]]),t[4]||(t[4]=(0,l.Lk)("label",{for:"content"},"내용",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>o.value.content=e),placeholder:"공지사항 내용",rows:"10",required:""},null,512),[[a.Jo,o.value.content]]),t[5]||(t[5]=(0,l.Lk)("button",{type:"submit",class:"pure-button pure-button-primary"},"저장",-1)),(0,l.bF)(n,{to:"/notices",class:"pure-button"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("취소")]))),_:1})])],32)])])}}};const Me=(0,b.A)(Re,[["__scopeId","data-v-e95943c0"]]);var qe=Me,$e={__name:"ContentForm",setup(e){const t=(0,f.lq)(),n=(0,f.rd)(),r=W(),o=(0,M.KR)({title:"",description:"",content:""});if(t.params.id){const e=r.selectedContent;(0,l.wB)((()=>e),(()=>{o.value={...e}}))}const s=async()=>{t.params.id?await r.updateContent(t.params.id,o.value):await r.addContent(o.value),n.push("/contents")};return(e,t)=>((0,l.uX)(),(0,l.CE)("form",{onSubmit:(0,a.D$)(s,["prevent"]),class:"pure-form pure-form-stacked"},[(0,l.Lk)("fieldset",null,[t[3]||(t[3]=(0,l.Lk)("label",{for:"title"},"Title",-1)),(0,l.bo)((0,l.Lk)("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>o.value.title=e),placeholder:"Enter title",required:""},null,512),[[a.Jo,o.value.title]]),t[4]||(t[4]=(0,l.Lk)("label",{for:"description"},"Description",-1)),(0,l.bo)((0,l.Lk)("input",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>o.value.description=e),placeholder:"Enter description"},null,512),[[a.Jo,o.value.description]]),t[5]||(t[5]=(0,l.Lk)("label",{for:"content"},"Content",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"content","onUpdate:modelValue":t[2]||(t[2]=e=>o.value.content=e),placeholder:"Enter content",required:""},null,512),[[a.Jo,o.value.content]]),t[6]||(t[6]=(0,l.Lk)("button",{type:"submit",class:"pure-button pure-button-primary"},"Submit",-1))])],32))}};const Oe=$e;var Je=Oe;const Ke={class:"pure-g"},Qe={class:"pure-u-1"},Te={class:"gallery-list"},je=["src"],Ye=["src"];var ze={__name:"ContentDetail",setup(e){const t=(0,f.lq)(),n=(0,f.rd)(),a=W(),r=(0,M.KR)({}),o=(0,M.KR)([]);return(0,l.sV)((async()=>{try{await a.fetchContentById(t.params.id),r.value=a.selectedContent,await a.fetchGalleryByContentId(t.params.id),o.value=a.selectedGallery}catch(e){console.error(e),n.push("/")}})),(e,t)=>{const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Ke,[(0,l.Lk)("div",Qe,[(0,l.Lk)("h2",null,(0,w.v_)(r.value.title),1),t[3]||(t[3]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("p",null,"설명: "+(0,w.v_)(r.value.description),1),(0,l.Lk)("p",null,"내용: "+(0,w.v_)(r.value.content),1),(0,l.Lk)("p",null,"작성자: "+(0,w.v_)(r.value.author),1),(0,l.Lk)("p",null,"작성일시: "+(0,w.v_)(r.value.createdAt),1),t[4]||(t[4]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",null,[t[1]||(t[1]=(0,l.Lk)("h4",null,"콘텐츠 갤러리",-1)),(0,l.bF)(n,{to:`/gallery/new/${r.value.id}`,class:"pure-button pure-button-success"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)(" 갤러리 콘텐츠 추가 ")]))),_:1},8,["to"]),t[2]||(t[2]=(0,l.Lk)("div",{class:"blank",style:{height:"20px"}},null,-1)),(0,l.Lk)("div",Te,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"gallery-item"},["IMAGE"===e.file_type?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`/assets/${e.file_path}`,alt:"Gallery Item",class:"thumbnail"},null,8,je)):"VIDEO"===e.file_type?((0,l.uX)(),(0,l.CE)("video",{key:1,src:`/assets/${e.file_path}`,controls:"",class:"thumbnail"},null,8,Ye)):(0,l.Q3)("",!0),(0,l.Lk)("p",null,(0,w.v_)(e.file_path?e.file_path.split("/").pop():"파일 없음"),1)])))),128))])])]),(0,l.bF)(n,{to:"/contents",class:"pure-button"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("콘텐츠 목록")]))),_:1}),(0,l.bF)(n,{to:`/contents/edit/${r.value.id}`,class:"pure-button pure-button-primary"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("콘텐츠 수정")]))),_:1},8,["to"])])}}};const He=(0,b.A)(ze,[["__scopeId","data-v-d0fff33a"]]);var Ze=He;const{addGallery:et,editGallery:tt,deleteGallery:nt,getGallery:at,getGalleryById:lt}=h,rt=(0,r.nY)("gallery",{state:()=>({galleries:[],gallery:{},selectedGallery:null,selGallery:null}),actions:{async fetchGalleries(){const e=await at();this.galleries=e},async fetchGalleryById(e){const t=await lt(e);return this.selGallery=t,t},async addGallery(e){console.log("Store Receive: "+e.contentId),await et(e),this.fetchGalleries()},async updateGallery(e,t){await tt(e,t),this.fetchGalleries()},async deleteGallery(e){await nt(e),this.fetchGalleries()}}});var ot={__name:"GalleryForm",setup(e){const t=(0,f.lq)(),n=(0,f.rd)(),r=rt(),o=(0,M.KR)({filePath:"",fileType:"IMAGE",contentId:t.params.contentId||""}),s=e=>{const t=e.dataTransfer.files[0];t&&(o.value.filePath=t.name,o.value.fileType=t.type.startsWith("video")?"VIDEO":"IMAGE")},u=async()=>{o.value.contentId?(await r.addGallery(o.value),n.push(`/contents/${o.value.contentId}`)):console.error("Content ID is missing.")};return(0,l.sV)((()=>{console.log("Received contentId:",t.params.contentId)})),(e,t)=>((0,l.uX)(),(0,l.CE)("form",{onSubmit:(0,a.D$)(u,["prevent"]),class:"pure-form pure-form-stacked",onDragover:t[3]||(t[3]=(0,a.D$)((()=>{}),["prevent"])),onDrop:(0,a.D$)(s,["prevent"])},[(0,l.Lk)("fieldset",null,[(0,l.bo)((0,l.Lk)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>o.value.contentId=e)},null,512),[[a.Jo,o.value.contentId]]),t[5]||(t[5]=(0,l.Lk)("label",{for:"filePath"},"File Path",-1)),(0,l.bo)((0,l.Lk)("input",{id:"filePath","onUpdate:modelValue":t[1]||(t[1]=e=>o.value.filePath=e),placeholder:"등록할 콘텐츠를 드래그하여 여기에 놓아 주세요",required:""},null,512),[[a.Jo,o.value.filePath]]),t[6]||(t[6]=(0,l.Lk)("label",{for:"fileType"},"File Type",-1)),(0,l.bo)((0,l.Lk)("select",{id:"fileType","onUpdate:modelValue":t[2]||(t[2]=e=>o.value.fileType=e)},t[4]||(t[4]=[(0,l.Lk)("option",{value:"IMAGE"},"Image",-1),(0,l.Lk)("option",{value:"VIDEO"},"Video",-1)]),512),[[a.u1,o.value.fileType]]),t[7]||(t[7]=(0,l.Lk)("button",{type:"submit",class:"pure-button pure-button-primary"},"등록",-1))])],32))}};const st=ot;var ut=st;const it=[{path:"/",component:L},{path:"/contents",component:R},{path:"/notices",component:ue},{path:"/notices/new",component:xe},{path:"/notices/:id",component:Fe},{path:"/notices/edit/:id",component:qe},{path:"/contents/new",component:Je},{path:"/contents/:id",component:Ze},{path:"/gallery/new/:contentId",name:"GalleryForm",component:ut},{path:"/login",component:pe},{path:"/register",component:_e},{path:"/profile",component:Ie}],ct=(0,f.aE)({history:(0,f.LA)(),routes:it});var dt=ct;const{addUser:pt,editUser:mt,deleteUser:vt,getUsers:ht,getItemByUsername:ft}=h,kt=(0,r.nY)("auth",{state:()=>({user:null,users:null}),getters:{isAuthenticated:e=>!!e.user},actions:{async login(e,t){try{const n=await ft(e);if(n.password!==t)throw new Error("Invalid username or password");this.user=n,localStorage.setItem("username",e),localStorage.setItem("userId",n.id),dt.push("/")}catch(n){throw console.error("Login failed:",n),n}},async register(e){try{await pt(e)}catch(t){throw console.error("Registration failed:",t),t}},async getUsers(){try{const e=await ht();this.users=e}catch(e){throw console.error("Failed to fetch users:",e),e}},async fetchUserProfile(e){try{const t=await ft(e);this.user=t}catch(t){console.error("Fetching user profile failed:",t),this.user={username:"Unknown",email:"-",role:"USER",createdAt:"-"}}},async editUser(e,t){try{const n=await ft(e);await mt(n.id,t)}catch(n){throw console.error("Edit failed:",n),n}},async deleteUser(e){try{const t=await ft(e);await vt(t.id)}catch(t){throw console.error("Delete failed:",t),t}},logout(){this.user=null,localStorage.removeItem("username"),localStorage.removeItem("userId"),dt.push("/")}}}),yt={id:"app"},bt={class:"pure-menu pure-menu-horizontal",style:{"border-bottom":"3px solid #c9c8c7"}},gt={class:"pure-menu-list"},_t={class:"pure-menu-item"},Lt={class:"pure-menu-item"},wt={key:0,class:"pure-menu-item"},Et={class:"pure-menu-list",style:{float:"right"}},Ct={key:0,class:"pure-menu-item"},It={key:1,class:"pure-menu-item"},Dt={key:2,class:"pure-menu-item"},Ut={key:3,class:"pure-menu-item"};var Nt={__name:"App",setup(e){const t=kt(),n=()=>{t.logout()},a=(0,l.EW)((()=>t.isAuthenticated));return(e,t)=>{const r=(0,l.g2)("router-link"),o=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",yt,[(0,l.Lk)("nav",bt,[t[6]||(t[6]=(0,l.Lk)("a",{class:"pure-menu-heading",href:"#"},"CMS App",-1)),(0,l.Lk)("ul",gt,[(0,l.Lk)("li",_t,[(0,l.bF)(r,{to:"/",class:"pure-menu-link"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("Home")]))),_:1})]),(0,l.Lk)("li",Lt,[(0,l.bF)(r,{to:"/notices",class:"pure-menu-link"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("공지사항")]))),_:1})]),a.value?((0,l.uX)(),(0,l.CE)("li",wt,[(0,l.bF)(r,{to:"/contents",class:"pure-menu-link"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("콘텐츠")]))),_:1})])):(0,l.Q3)("",!0)]),(0,l.Lk)("ul",Et,[a.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",Ct,[(0,l.bF)(r,{to:"/login",class:"pure-menu-link"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("로그인")]))),_:1})])),a.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",It,[(0,l.bF)(r,{to:"/register",class:"pure-menu-link"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("회원가입")]))),_:1})])),a.value?((0,l.uX)(),(0,l.CE)("li",Dt,[(0,l.bF)(r,{to:"/profile",class:"pure-menu-link"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("내 프로필")]))),_:1})])):(0,l.Q3)("",!0),a.value?((0,l.uX)(),(0,l.CE)("li",Ut,[(0,l.Lk)("button",{onClick:n,class:"pure-button"},"로그아웃")])):(0,l.Q3)("",!0)])]),(0,l.Lk)("main",null,[(0,l.bF)(o)])])}}};const Wt=Nt;var Gt=Wt;const Xt=(0,a.Ef)(Gt);Xt.use((0,r.Ey)()),Xt.use(dt),Xt.mount("#app")}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,l,r){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],l=e[c][1],r=e[c][2];for(var s=!0,u=0;u<a.length;u++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(s=!1,r<o&&(o=r));if(s){e.splice(c--,1);var i=l();void 0!==i&&(t=i)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,l,r]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,r,o=a[0],s=a[1],u=a[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(u)var c=u(n)}for(t&&t(a);i<o.length;i++)r=o[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self["webpackChunkch14_myapp3"]=self["webpackChunkch14_myapp3"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(8194)}));a=n.O(a)})();
//# sourceMappingURL=app.5a095210.js.map